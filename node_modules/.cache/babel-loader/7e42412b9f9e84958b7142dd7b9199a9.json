{"ast":null,"code":"var _jsxFileName = \"/home/sunith/Projects/Html Projects/reactfirebase/src/components/UserForm.js\";\nimport React, { Component } from 'react';\nimport PersonalDetails from './PersonalDetails';\nimport AccountDetails from './AccountDetails';\nimport Confirmation from './Confirmation';\nimport Success from './Success';\nimport FinalScreen from './FinalScreen';\nimport fire from '../config/Config';\nexport class UserForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      step: 1,\n      firstName: '',\n      lastName: '',\n      bio: '',\n      Email: '',\n      Phone: '',\n      Password: '',\n      Error: '',\n      LoginError: ''\n    };\n\n    this.nextStep = () => {\n      const {\n        step\n      } = this.state;\n      this.setState({\n        step: step + 1\n      });\n    };\n\n    this.prevStep = () => {\n      const {\n        step\n      } = this.state;\n      this.setState({\n        step: step - 1\n      });\n    };\n\n    this.handleChange = input => e => {\n      this.setState({\n        [input]: e.target.value\n      });\n    };\n\n    this.submit = (firstName, lastName, bio, Email, Phone, Password) => {\n      fire.auth().createUserWithEmailAndPassword(Email, Password).then(cred => {\n        return fire.firestore().collection('users').doc(cred.user.uid).set({\n          FirstName: firstName,\n          lastName: lastName,\n          Bio: bio,\n          Email: Email,\n          Phone: Phone,\n          Password: Password\n        }).then(() => {\n          const {\n            step\n          } = this.state;\n          this.setState({\n            step: step + 1,\n            firstName: '',\n            lastName: '',\n            bio: '',\n            Email: '',\n            Phone: '',\n            Password: '',\n            Error: '',\n            LoginError: ''\n          });\n        });\n      }).catch(err => {\n        this.setState({\n          Error: err.message\n        });\n      });\n    };\n\n    this.login = (Email, Password) => {\n      const {\n        step\n      } = this.state; // console.log('login invoked');\n      // console.log(Email);\n      // console.log(Password);\n\n      fire.auth().signInWithEmailAndPassword(Email, Password).then(() => {\n        console.log('success');\n        this.setState({\n          step: step + 1,\n          LoginError: ''\n        });\n      }).catch(err => {\n        // console.log(err.message);\n        this.setState({\n          LoginError: err.message\n        });\n      });\n    };\n\n    this.gotologin = () => {\n      this.setState({\n        step: 4\n      });\n    };\n\n    this.gotoSignUp = () => {\n      this.setState({\n        step: 1\n      });\n    };\n\n    this.logout = () => {\n      fire.auth().signOut().then(() => {\n        console.log('successfully logged out');\n        this.setState({\n          step: 1\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      step\n    } = this.state;\n    const {\n      firstName,\n      lastName,\n      bio,\n      Email,\n      Phone,\n      Password,\n      Error,\n      LoginError\n    } = this.state;\n    const values = {\n      firstName,\n      lastName,\n      bio,\n      Email,\n      Phone,\n      Password,\n      Error,\n      LoginError\n    };\n\n    switch (step) {\n      case 1:\n        return /*#__PURE__*/React.createElement(PersonalDetails, {\n          nextStep: this.nextStep,\n          handleChange: this.handleChange,\n          values: values,\n          gotologin: this.gotologin,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }\n        });\n\n      case 2:\n        return /*#__PURE__*/React.createElement(AccountDetails, {\n          nextStep: this.nextStep,\n          prevStep: this.prevStep,\n          handleChange: this.handleChange,\n          values: values,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 21\n          }\n        });\n\n      case 3:\n        return /*#__PURE__*/React.createElement(Confirmation, {\n          prevStep: this.prevStep,\n          values: values,\n          submit: this.submit,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }\n        });\n\n      case 4:\n        return /*#__PURE__*/React.createElement(Success, {\n          login: this.login,\n          values: values,\n          handleChange: this.handleChange,\n          gotoSignUp: this.gotoSignUp,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 24\n          }\n        });\n\n      case 5:\n        return /*#__PURE__*/React.createElement(FinalScreen, {\n          logout: this.logout,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 21\n          }\n        });\n    }\n  }\n\n}\nexport default UserForm;","map":{"version":3,"sources":["/home/sunith/Projects/Html Projects/reactfirebase/src/components/UserForm.js"],"names":["React","Component","PersonalDetails","AccountDetails","Confirmation","Success","FinalScreen","fire","UserForm","state","step","firstName","lastName","bio","Email","Phone","Password","Error","LoginError","nextStep","setState","prevStep","handleChange","input","e","target","value","submit","auth","createUserWithEmailAndPassword","then","cred","firestore","collection","doc","user","uid","set","FirstName","Bio","catch","err","message","login","signInWithEmailAndPassword","console","log","gotologin","gotoSignUp","logout","signOut","render","values"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA,OAAO,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAEpCQ,KAFoC,GAE5B;AACJC,MAAAA,IAAI,EAAE,CADF;AAEJC,MAAAA,SAAS,EAAE,EAFP;AAGJC,MAAAA,QAAQ,EAAE,EAHN;AAIJC,MAAAA,GAAG,EAAE,EAJD;AAKJC,MAAAA,KAAK,EAAE,EALH;AAMJC,MAAAA,KAAK,EAAE,EANH;AAOJC,MAAAA,QAAQ,EAAE,EAPN;AAQJC,MAAAA,KAAK,EAAE,EARH;AASJC,MAAAA,UAAU,EAAE;AATR,KAF4B;;AAAA,SAepCC,QAfoC,GAezB,MAAM;AACb,YAAM;AAAET,QAAAA;AAAF,UAAW,KAAKD,KAAtB;AACA,WAAKW,QAAL,CAAc;AACVV,QAAAA,IAAI,EAAEA,IAAI,GAAG;AADH,OAAd;AAGH,KApBmC;;AAAA,SAuBpCW,QAvBoC,GAuBzB,MAAM;AACb,YAAM;AAAEX,QAAAA;AAAF,UAAW,KAAKD,KAAtB;AACA,WAAKW,QAAL,CAAc;AACVV,QAAAA,IAAI,EAAEA,IAAI,GAAG;AADH,OAAd;AAGH,KA5BmC;;AAAA,SA+BpCY,YA/BoC,GA+BrBC,KAAK,IAAIC,CAAC,IAAI;AACzB,WAAKJ,QAAL,CAAc;AAAE,SAACG,KAAD,GAASC,CAAC,CAACC,MAAF,CAASC;AAApB,OAAd;AACH,KAjCmC;;AAAA,SAoCpCC,MApCoC,GAoC3B,CAAChB,SAAD,EAAYC,QAAZ,EAAsBC,GAAtB,EAA2BC,KAA3B,EAAkCC,KAAlC,EAAyCC,QAAzC,KAAsD;AAC3DT,MAAAA,IAAI,CAACqB,IAAL,GAAYC,8BAAZ,CAA2Cf,KAA3C,EAAkDE,QAAlD,EAA4Dc,IAA5D,CAAkEC,IAAD,IAAU;AACvE,eAAOxB,IAAI,CAACyB,SAAL,GAAiBC,UAAjB,CAA4B,OAA5B,EAAqCC,GAArC,CAAyCH,IAAI,CAACI,IAAL,CAAUC,GAAnD,EAAwDC,GAAxD,CAA4D;AAC/DC,UAAAA,SAAS,EAAE3B,SADoD;AAE/DC,UAAAA,QAAQ,EAAEA,QAFqD;AAG/D2B,UAAAA,GAAG,EAAE1B,GAH0D;AAI/DC,UAAAA,KAAK,EAAEA,KAJwD;AAK/DC,UAAAA,KAAK,EAAEA,KALwD;AAM/DC,UAAAA,QAAQ,EAAEA;AANqD,SAA5D,EAOJc,IAPI,CAOC,MAAM;AACV,gBAAM;AAAEpB,YAAAA;AAAF,cAAW,KAAKD,KAAtB;AACA,eAAKW,QAAL,CAAc;AACVV,YAAAA,IAAI,EAAEA,IAAI,GAAG,CADH;AAEVC,YAAAA,SAAS,EAAE,EAFD;AAGVC,YAAAA,QAAQ,EAAE,EAHA;AAIVC,YAAAA,GAAG,EAAE,EAJK;AAKVC,YAAAA,KAAK,EAAE,EALG;AAMVC,YAAAA,KAAK,EAAE,EANG;AAOVC,YAAAA,QAAQ,EAAE,EAPA;AAQVC,YAAAA,KAAK,EAAE,EARG;AASVC,YAAAA,UAAU,EAAE;AATF,WAAd;AAWH,SApBM,CAAP;AAqBH,OAtBD,EAsBGsB,KAtBH,CAsBSC,GAAG,IAAI;AACZ,aAAKrB,QAAL,CAAc;AACVH,UAAAA,KAAK,EAAEwB,GAAG,CAACC;AADD,SAAd;AAGH,OA1BD;AA2BH,KAhEmC;;AAAA,SAmEpCC,KAnEoC,GAmE5B,CAAC7B,KAAD,EAAQE,QAAR,KAAqB;AACzB,YAAM;AAAEN,QAAAA;AAAF,UAAW,KAAKD,KAAtB,CADyB,CAEzB;AACA;AACA;;AACAF,MAAAA,IAAI,CAACqB,IAAL,GAAYgB,0BAAZ,CAAuC9B,KAAvC,EAA8CE,QAA9C,EAAwDc,IAAxD,CAA6D,MAAM;AAC/De,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,aAAK1B,QAAL,CAAc;AACVV,UAAAA,IAAI,EAAEA,IAAI,GAAG,CADH;AAEVQ,UAAAA,UAAU,EAAE;AAFF,SAAd;AAIH,OAND,EAMGsB,KANH,CAMSC,GAAG,IAAI;AACZ;AACA,aAAKrB,QAAL,CAAc;AACVF,UAAAA,UAAU,EAAEuB,GAAG,CAACC;AADN,SAAd;AAGH,OAXD;AAYH,KApFmC;;AAAA,SAuFpCK,SAvFoC,GAuFxB,MAAM;AACd,WAAK3B,QAAL,CAAc;AACVV,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH,KA3FmC;;AAAA,SA8FpCsC,UA9FoC,GA8FvB,MAAM;AACf,WAAK5B,QAAL,CAAc;AACVV,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH,KAlGmC;;AAAA,SAqGpCuC,MArGoC,GAqG3B,MAAM;AACX1C,MAAAA,IAAI,CAACqB,IAAL,GAAYsB,OAAZ,GAAsBpB,IAAtB,CAA2B,MAAM;AAC7Be,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,aAAK1B,QAAL,CAAc;AACVV,UAAAA,IAAI,EAAE;AADI,SAAd;AAGH,OALD;AAMH,KA5GmC;AAAA;;AA8GpCyC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEzC,MAAAA;AAAF,QAAW,KAAKD,KAAtB;AACA,UAAM;AAAEE,MAAAA,SAAF;AAAaC,MAAAA,QAAb;AAAuBC,MAAAA,GAAvB;AAA4BC,MAAAA,KAA5B;AAAmCC,MAAAA,KAAnC;AAA0CC,MAAAA,QAA1C;AAAoDC,MAAAA,KAApD;AAA2DC,MAAAA;AAA3D,QAA0E,KAAKT,KAArF;AACA,UAAM2C,MAAM,GAAG;AAAEzC,MAAAA,SAAF;AAAaC,MAAAA,QAAb;AAAuBC,MAAAA,GAAvB;AAA4BC,MAAAA,KAA5B;AAAmCC,MAAAA,KAAnC;AAA0CC,MAAAA,QAA1C;AAAoDC,MAAAA,KAApD;AAA2DC,MAAAA;AAA3D,KAAf;;AAEA,YAAQR,IAAR;AACI,WAAK,CAAL;AACI,4BACI,oBAAC,eAAD;AACI,UAAA,QAAQ,EAAE,KAAKS,QADnB;AAEI,UAAA,YAAY,EAAE,KAAKG,YAFvB;AAGI,UAAA,MAAM,EAAE8B,MAHZ;AAII,UAAA,SAAS,EAAE,KAAKL,SAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;;AAQJ,WAAK,CAAL;AACI,4BACI,oBAAC,cAAD;AACI,UAAA,QAAQ,EAAE,KAAK5B,QADnB;AAEI,UAAA,QAAQ,EAAE,KAAKE,QAFnB;AAGI,UAAA,YAAY,EAAE,KAAKC,YAHvB;AAII,UAAA,MAAM,EAAE8B,MAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;;AAQJ,WAAK,CAAL;AACI,4BACI,oBAAC,YAAD;AACI,UAAA,QAAQ,EAAE,KAAK/B,QADnB;AAEI,UAAA,MAAM,EAAE+B,MAFZ;AAGI,UAAA,MAAM,EAAE,KAAKzB,MAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;;AAQJ,WAAK,CAAL;AACI,4BAAO,oBAAC,OAAD;AAAS,UAAA,KAAK,EAAE,KAAKgB,KAArB;AAA4B,UAAA,MAAM,EAAES,MAApC;AAA4C,UAAA,YAAY,EAAE,KAAK9B,YAA/D;AAA6E,UAAA,UAAU,EAAE,KAAK0B,UAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;;AAEJ,WAAK,CAAL;AACI,4BACI,oBAAC,WAAD;AAAa,UAAA,MAAM,EAAE,KAAKC,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAhCR;AAoCH;;AAvJmC;AA0JxC,eAAezC,QAAf","sourcesContent":["import React, { Component } from 'react'\nimport PersonalDetails from './PersonalDetails'\nimport AccountDetails from './AccountDetails'\nimport Confirmation from './Confirmation'\nimport Success from './Success'\nimport FinalScreen from './FinalScreen'\nimport fire from '../config/Config'\n\nexport class UserForm extends Component {\n    // defining innitial state\n    state = {\n        step: 1,\n        firstName: '',\n        lastName: '',\n        bio: '',\n        Email: '',\n        Phone: '',\n        Password: '',\n        Error: '',\n        LoginError: ''\n    }\n\n    // increasing step by 1\n    nextStep = () => {\n        const { step } = this.state;\n        this.setState({\n            step: step + 1\n        })\n    }\n\n    // decreasing step by 1\n    prevStep = () => {\n        const { step } = this.state;\n        this.setState({\n            step: step - 1\n        })\n    }\n\n    // Handle fields change\n    handleChange = input => e => {\n        this.setState({ [input]: e.target.value });\n    };\n\n    // creating user and submitting data to firebase\n    submit = (firstName, lastName, bio, Email, Phone, Password) => {\n        fire.auth().createUserWithEmailAndPassword(Email, Password).then((cred) => {\n            return fire.firestore().collection('users').doc(cred.user.uid).set({\n                FirstName: firstName,\n                lastName: lastName,\n                Bio: bio,\n                Email: Email,\n                Phone: Phone,\n                Password: Password\n            }).then(() => {\n                const { step } = this.state;\n                this.setState({\n                    step: step + 1,\n                    firstName: '',\n                    lastName: '',\n                    bio: '',\n                    Email: '',\n                    Phone: '',\n                    Password: '',\n                    Error: '',\n                    LoginError: ''\n                })\n            })\n        }).catch(err => {\n            this.setState({\n                Error: err.message\n            })\n        })\n    }\n\n    // logging users\n    login = (Email, Password) => {\n        const { step } = this.state;\n        // console.log('login invoked');\n        // console.log(Email);\n        // console.log(Password);\n        fire.auth().signInWithEmailAndPassword(Email, Password).then(() => {\n            console.log('success');\n            this.setState({\n                step: step + 1,\n                LoginError: ''\n            })\n        }).catch(err => {\n            // console.log(err.message);\n            this.setState({\n                LoginError: err.message\n            })\n        })\n    }\n\n    // go to login on login button click in personal details component\n    gotologin = () => {\n        this.setState({\n            step: 4\n        })\n    }\n\n    // go to signup on signup button click in success component (login page)\n    gotoSignUp = () => {\n        this.setState({\n            step: 1\n        })\n    }\n\n    // logging user out\n    logout = () => {\n        fire.auth().signOut().then(() => {\n            console.log('successfully logged out');\n            this.setState({\n                step: 1\n            })\n        });\n    }\n\n    render() {\n        const { step } = this.state;\n        const { firstName, lastName, bio, Email, Phone, Password, Error, LoginError } = this.state;\n        const values = { firstName, lastName, bio, Email, Phone, Password, Error, LoginError }\n\n        switch (step) {\n            case 1:\n                return (\n                    <PersonalDetails\n                        nextStep={this.nextStep}\n                        handleChange={this.handleChange}\n                        values={values}\n                        gotologin={this.gotologin}\n                    />\n                )\n            case 2:\n                return (\n                    <AccountDetails\n                        nextStep={this.nextStep}\n                        prevStep={this.prevStep}\n                        handleChange={this.handleChange}\n                        values={values} />\n                )\n\n            case 3:\n                return (\n                    <Confirmation\n                        prevStep={this.prevStep}\n                        values={values}\n                        submit={this.submit}\n                    />\n                )\n\n            case 4:\n                return <Success login={this.login} values={values} handleChange={this.handleChange} gotoSignUp={this.gotoSignUp} />\n\n            case 5:\n                return (\n                    <FinalScreen logout={this.logout} />\n                )\n        }\n    }\n}\n\nexport default UserForm\n"]},"metadata":{},"sourceType":"module"}